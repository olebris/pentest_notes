---
layout:
  title:
    visible: true
  description:
    visible: false
  tableOfContents:
    visible: true
  outline:
    visible: true
  pagination:
    visible: true
---

# üîÑ Enumeration

```
export IP=10.10.44.248
```

## NMAP (network scan)

```
nmap -sC -sV -oN nmap-report.txt $IP
```

```
nmap ‚ÄìA $IP
```

Vulnerabilities search:

```
nmap -sV -sC -oN nmap-report.txt --script=vuln $IP
```

Scan rapide (ping) d'un r√©seau entier:&#x20;

```
nmap -sn 192.168.0.0/24 
```

&#x20;Scripts&#x20;

{% embed url="https://nmap.org/book/nse-usage.html" %}

## Metasploit (network scan)

```

se auxiliary/scanner/portscan/tcp
```

## URL discovery

### Gobuster (Directory discovery)

{% code overflow="wrap" %}
```
gobuster dir -u http://10.10.232.151 -w /usr/share/wordlists/dirbuster/directory-list-1.0.txt -x php,html,txt,htm,log
```
{% endcode %}

{% code overflow="wrap" %}
```
gobuster dir -u https://example.com -w /wordlists/Discovery/Web-Content/big.txt -t 4 --delay 1s
```
{% endcode %}

* _NB: chercher des fichier => ajouter_ `‚Äìx php,txt,html`
* _NB2: relancer gobuster sur les r√©pertoires trouv√©s √† la racine (pour r√©cursivit√© !)_
* Pour trouver les sous domaines utiliser vhost ou dns:

### Gobuster DNS (DNS enumeration)

{% code overflow="wrap" %}
```
$ gobuster dns -q -r 8.8.8.8 -d example.com -w wordlists/Discovery/DNS/subdomains-top1million-5000.txt -t 4 --delay 1s -o results.txt"	
```
{% endcode %}

### Gobuster vhost (sous domaine sur un m√™me host)

{% code overflow="wrap" %}
```
gobuster vhost -u https://example.com -t 50 -w /wordlists/Discovery/DNS/subdomains-top1million-5000.txt --append-domain
```
{% endcode %}

* NB: ne pas oublier le append domain pour faire sousdomaine.domaine.tld !!!

{% embed url="https://www.kali-linux.fr/conseil/gobuster-le-bruteforce-de-pages-web" %}

* Autres Outils
  * &#x20;OWASP ZAP - brute force directory (plus lent que gobuster ...)
  * Burp: `Intruder`
  * Metasploit: `modules/auxiliary/scanner/http/dir_scanner.rb`
  * Nikto
  * dirb / dirbuster (r√©cursif!)  /ffuf (r√©cursif + fuzzing de host )&#x20;

```
ffuf -w ~/wordlists/common.txt -recursion -u http://ffuf.me/cd/recursion/FUZZ
```

## VULN Scan

```
nikto -h $IP
```

* OWASP ZAP (use active scan)
* Enum4linux

```
enum4linux $IP | tee report.txt 
```

* Metasploit

```
use auxiliary/scanner/portscan/tcp
```

## Manual web discovery&#x20;

* Essayer _/admin /sitemap/ /login /mail / phpinfo /content ‚Ä¶_
* Inspecter code source&#x20;
* Robots.txt&#x20;
* Sitemap.xml&#x20;
* Favicon search (compare md5) => [https://wiki.owasp.org/index.php/OWASP\_favicon\_database](https://wiki.owasp.org/index.php/OWASP\_favicon\_database)&#x20;

```
curl https://mysite.com/sites/favicon/images/favicon.ico | md5sum 
```

* [https://www.wappalyzer.com/](https://www.wappalyzer.com/) &#x20;
* Wayback machine &#x20;
* Headers http&#x20;

&#x20;

## Google Dorking&#x20;

| <p>Filter <br> </p>   | <p>Example <br> </p>            | <p>Description <br> </p>                                             |
| --------------------- | ------------------------------- | -------------------------------------------------------------------- |
| <p>site <br> </p>     | <p>site:tryhackme.com <br> </p> | <p>returns results only from the specified website address <br> </p> |
| <p>inurl <br> </p>    | <p>inurl:admin <br> </p>        | <p>returns results that have the specified word in the URL <br> </p> |
| <p>filetype <br> </p> | <p>filetype:pdf <br> </p>       | <p>returns results which are a particular file extension <br> </p>   |
| <p>intitle <br> </p>  | <p>intitle:admin <br> </p>      | returns results that contain the specified word in the title         |

&#x20;

### DNS

* dig / whois / nslookup
* https://dnsdumpster.com/ (√©num√©ration des sous domaines )
* https://asnlookup.com/
* https://www.shodan.io/
